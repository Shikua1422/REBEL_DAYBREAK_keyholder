<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Now Playing</title>

<style>
body {
  margin: 0;
  font-family: -apple-system, BlinkMacSystemFont, "Helvetica Neue", sans-serif;
  background: #111;
  color: #fff;
}

/* ===== ヘッダー ===== */
.header {
  position: fixed;
  top: 12px;
  right: 16px;
  z-index: 40;
}
.menu-btn {
  font-size: 26px;
  cursor: pointer;
}

/* ===== プレイリスト ===== */
.playlist {
  position: fixed;
  top: 0;
  right: -100%;
  width: 260px;
  height: 100%;
  background: #181818;
  padding: 20px;
  transition: right 0.35s ease;
  z-index: 35;
}
.playlist.open { right: 0; }
.track {
  padding: 10px;
  border-radius: 6px;
  cursor: pointer;
}
.track.active { background: #333; }
.track span {
  display: block;
  font-size: 12px;
  color: #aaa;
}

/* ===== メイン ===== */
.container {
  padding: 44px 15px 20px;
  text-align: center;
}

.stage {
  position: relative;
  width: 300px;
  height: 300px;
  margin: 20px auto;
}

/* ===== 動画 ===== */
.video {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 220px;
  height: 124px;
  transform: translate(-50%, -50%);
  pointer-events: none;
  z-index: 1;
}
.stage.cd-mini .video {
  width: 360px;
  height: 202px;
}

/* ===== CD ===== */
.cd {
  position: absolute;
  inset: 0;
  border-radius: 50%;
  background: url("cd.jpeg") center/cover no-repeat;
  animation: spin 10s linear infinite;
  animation-play-state: paused;
  cursor: pointer;
  z-index: 5;
  transition: all 0.45s ease;
}
.cd.mini {
  width: 58px;
  height: 58px;
  top: -60px;
  left: -30px;
}

@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

/* ===== 情報 ===== */
.title {
  font-size: 18px;
  margin-top: 10px;
}
.artist {
  font-size: 14px;
  color: #aaa;
}

/* ===== 曲名リンク（センター補正済） ===== */
.title-link {
  color: #fff;
  text-decoration: none;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 6px;
  opacity: 0.85;
  position: relative;
}
.title-link:hover {
  opacity: 1;
}
.youtube-icon {
  width: 14px;
  height: 14px;
  opacity: 0.6;
  position: absolute;
  right: -20px;
}

/* ===== コントロール ===== */
.controls {
  margin-top: 18px;
}

.control-buttons {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 22px;
  margin-bottom: 10px;
}

.icon-btn,
.play-btn {
  background: none;
  border: none;
  padding: 0;
  cursor: pointer;
}

.icon-btn svg {
  width: 22px;
  height: 22px;
  fill: #aaa;
  transition: fill 0.2s;
}
.icon-btn:hover svg {
  fill: #fff;
}

/* 再生ボタン */
.play-btn {
  width: 56px;
  height: 56px;
  border-radius: 50%;
  background: #fff;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* ===== 再生中の淡い照らし ===== */
@keyframes glowCycle {
  0% { box-shadow: 0 0 12px rgba(255,255,255,0.7),0 0 28px rgba(255,255,255,0.35); }
  20% { box-shadow: 0 0 14px rgba(255,80,80,0.75),0 0 32px rgba(255,80,80,0.4); }
  40% { box-shadow: 0 0 14px rgba(120,220,255,0.75),0 0 32px rgba(120,220,255,0.4); }
  60% { box-shadow: 0 0 16px rgba(100,180,255,0.85),0 0 40px rgba(100,180,255,0.5); }
  80% { box-shadow: 0 0 14px rgba(180,120,255,0.75),0 0 32px rgba(180,120,255,0.4); }
  100% { box-shadow: 0 0 12px rgba(255,255,255,0.7),0 0 28px rgba(255,255,255,0.35); }
}

body.playing .play-btn {
  animation: glowCycle 6s ease-in-out infinite;
}

.play-btn svg {
  width: 26px;
  height: 26px;
  fill: #000;
}

/* ===== シークバー ===== */
.seekbar {
  width: 100%;
  -webkit-appearance: none;
  appearance: none;
  height: 4px;
  border-radius: 2px;
  background: linear-gradient(
    to right,
    #fff 0%,
    #fff var(--progress, 0%),
    #444 var(--progress, 0%),
    #444 100%
  );
}
.seekbar::-webkit-slider-thumb {
  -webkit-appearance: none;
  width: 12px;
  height: 12px;
  background: #fff;
  border-radius: 50%;
  cursor: pointer;
}

/* 時間 */
.time {
  font-size: 12px;
  color: #aaa;
  display: flex;
  justify-content: space-between;
  margin-top: 4px;
}
</style>
</head>

<body>

<div class="header">
  <div class="menu-btn" onclick="toggleList()">☰</div>
</div>

<div class="playlist" id="playlist"></div>

<div class="container">
  <div class="stage">
    <div id="player" class="video"></div>
    <div id="cd" class="cd"></div>
  </div>

  <div class="title">
    <a id="titleLink" class="title-link" target="_blank" rel="noopener">
      <span id="title"></span>
      <svg class="youtube-icon" viewBox="0 0 24 24" fill="currentColor">
        <path d="M23.5 6.2s-.2-1.6-.9-2.3c-.9-.9-1.9-.9-2.4-1C16.8 2.5 12 2.5 12 2.5s-4.8 0-8.2.4c-.5.1-1.5.1-2.4 1-.7.7-.9 2.3-.9 2.3S0 8 0 9.8v1.8c0 1.8.2 3.6.2 3.6s.2 1.6.9 2.3c.9.9 2.1.9 2.6 1 1.9.2 8.3.4 8.3.4s4.8 0 8.2-.4c.5-.1 1.5-.1 2.4-1 .7-.7.9-2.3.9-2.3s.2-1.8.2-3.6V9.8c0-1.8-.2-3.6-.2-3.6zM9.6 14.6V7.9l6.4 3.4-6.4 3.3z"/>
      </svg>
    </a>
  </div>
  <div class="artist" id="artist"></div>

  <!-- 以下JS・HTMLは一切変更なし -->
</div>

</body>
</html>

